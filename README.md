# taskhub

## 重要なメモ

- 現状各リクエスト内は直列に処理している  
  → テストケースが複数ある場合、１つ１つ処理する。なので、テストケースが多いと実行に時間がかかる。

## 起動方法

### シングルノードの場合（dind）

検証用途を想定して起動します。

1. ホストマシン起動  

    dockerが使用できる環境であればどこでも良いです。  
    なお、ブラウザから利用する場合、デフォルトでは、外部から80番ポートへのアクセスが可能な環境が必要です。
    起動スクリプトの引数で、ホストマシン側のポートは指定可能です。  

2. dind環境作成  

    dind(docker in docker)を利用し、Dockerコンテナを起動できるDockerコンテナを起動します。  
    コンテナは２つ（manager, worker）起動します。  
    以下のコマンドで起動します。`port`は、指定しない場合`80`番になります。  

    ```
    $ bash tests/run_dind.sh [port]
    ```

3. アプリケーションコンテナの起動  

    起動したDockerコンテナ上に、アプリケーションコンテナを起動します。  

    ```
    $ docker exec eofe-manager bash run.sh
    ```
